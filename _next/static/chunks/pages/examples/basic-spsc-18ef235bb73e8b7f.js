(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6543],{1830:function(i,s,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/examples/basic-spsc",function(){return e(4303)}])},4303:function(i,s,e){"use strict";e.r(s),e.d(s,{useTOC:function(){return c}});var n=e(5893),r=e(7812),l=e(1937),t=e(9299),h=e(8757),a=e(5956),d=e(5192);function c(i){let s={em:"em",...(0,t.a)()};return[{value:(0,n.jsxs)(n.Fragment,{children:["Minimal SPSC Example (",(0,n.jsx)(s.em,{children:"Node.js or Browser"}),")"]}),id:"minimal-spsc-example-nodejs-or-browser",depth:2},{value:"Async/Real-World Example",id:"asyncreal-world-example",depth:3},{value:"What’s happening?",id:"whats-happening",depth:2},{value:"Next / Related",id:"next--related",depth:2}]}s.default=(0,r.c)(function(i){let{toc:s=c(i)}=i,e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,t.a)(),...i.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{children:"Example: Single-Producer, Single-Consumer (SPSC)"}),"\n",(0,n.jsx)(e.p,{children:"The classic “lock-free queue” pattern—one producer, one consumer, highest throughput, zero overhead. SPSC is the fastest possible channel mode: no locks, no contention, and cache-friendly."}),"\n",(0,n.jsx)(a.U,{type:"tip",title:"Why SPSC?",children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:"SPSC (Single-Producer, Single-Consumer)"})," channels are the gold standard for\nultra-low-latency, lock-free communication between exactly two threads or\ntasks. Use this pattern when you need maximum throughput and absolute\nordering, with zero contention or ambiguity."]})}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsx)(e.h2,{id:s[0].id,children:s[0].value}),"\n",(0,n.jsx)(a.U,{type:"info",title:"How to read this example",children:(0,n.jsx)(e.p,{children:"This example walks you through the simplest SPSC channel: one producer, one\nconsumer, zero contention. Perfect for ultra-low-latency pipelines or thread\nhandoff. The diagram below shows the data flow."})}),"\n",(0,n.jsx)(h.G,{chart:"flowchart LR\\n  Producer[Producer] -- send() --> Channel[SP8D SPSC Channel]\\n  Channel -- recv() --> Consumer[Consumer]"}),"\n",(0,n.jsx)("sub",{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)("strong",{children:"Producer"})," uses ",(0,n.jsx)("code",{children:"send()"})," to move data to the\nchannel. ",(0,n.jsx)("strong",{children:"Consumer"})," uses ",(0,n.jsx)("code",{children:"recv()"})," to receive it.\nThis direct handoff is what enables SPSC’s ultra-low latency and simplicity."]})}),"\n",(0,n.jsx)(e.pre,{icon:d.KP,tabIndex:"0","data-language":"ts","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{"data-line-numbers":"","data-line-numbers-max-digits":"2",children:[(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { createChannel } "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "@sp8d/core"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Create an SPSC channel with 4 slots, each slot holding up to 16 bytes."})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" { "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"channel"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" } "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" createChannel"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"({ slots: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"4"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", slotSize: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"16"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", mode: "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"SPSC"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" });"})]}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Producer sends messages"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"for"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"let"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" i "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 0"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"; i "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"<"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 8"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"; "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"++"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"i) {"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  // Wait if channel is full (backpressure)"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  while"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"!"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"channel."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"send"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"new"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" Uint8Array"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"([i, i "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"*"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 10"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]))) {"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"    // Buffer is full, so producer waits and retries (busy-wait)"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  }"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  console."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"log"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"Sent:"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", i);"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Consumer receives messages"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"let"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" received"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:":"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" Uint8Array"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" null"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"while"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ((received "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" channel."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"recv"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"()) "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"!=="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" null"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:") {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  console."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"log"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"Received:"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", received);"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,n.jsx)(a.U,{type:"warning",title:"Busy-Wait Warning",children:(0,n.jsxs)(e.p,{children:["The busy-wait loop (",(0,n.jsx)("code",{children:"while (!send)"}),") is for demonstration only. In\nproduction, use ",(0,n.jsx)("code",{children:"sendAsync()"})," or a backpressure-aware event loop to\navoid wasting CPU cycles."]})}),"\n",(0,n.jsx)(e.h3,{id:s[1].id,children:s[1].value}),"\n",(0,n.jsxs)(e.p,{children:["For real-world, non-blocking usage, use ",(0,n.jsx)("code",{children:"sendAsync()"})," and the async\niterator as shown below."]}),"\n",(0,n.jsx)(e.pre,{icon:d.KP,tabIndex:"0","data-language":"ts","data-word-wrap":"","data-copy":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Producer (async)"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"for"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"let"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" i "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 0"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"; i "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"<"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 8"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"; "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"++"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"i) {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"  await"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" channel."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"sendAsync"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"new"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" Uint8Array"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"([i, i "}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"*"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 10"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]));"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  console."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"log"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"Sent:"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", i);"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})}),"\n",(0,n.jsx)(e.span,{children:" "}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"// Consumer (async)"})}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"for"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" received"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" of"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" channel) {"})]}),"\n",(0,n.jsxs)(e.span,{children:[(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  console."}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"log"}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"Received:"'}),(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", received);"})]}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsx)(e.h2,{id:s[2].id,children:s[2].value}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Producer:"})," Calls ",(0,n.jsx)("code",{children:"send()"})," in a loop—respects backpressure if the buffer is full."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Consumer:"})," Calls ",(0,n.jsx)("code",{children:"recv()"})," repeatedly—gets every value, in order, with no races or drops."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"SPSC Mode Guarantee:"})," Guarantees simple “ping-pong” correctness: no overwrites, slot loss, or ambiguity."]}),"\n"]}),"\n",(0,n.jsx)(a.U,{type:"tip",title:"Backpressure Handling",children:(0,n.jsxs)(e.p,{children:["Backpressure is critical for lossless, high-throughput systems. Notice the\nproducer waits (",(0,n.jsx)("code",{children:"while (!send)"}),") if the ring is full. This ensures\nyou never lose data—even under burst conditions."]})}),"\n",(0,n.jsx)(a.U,{type:"info",title:"What Should I See?",children:(0,n.jsx)(e.p,{children:"The output below shows the expected send/receive order for this example. If\nyou run producer and consumer in separate threads, the interleaving may\ndiffer, but all messages will be delivered in order."})}),"\n",(0,n.jsx)(e.pre,{tabIndex:"0","data-language":"text","data-word-wrap":"",children:(0,n.jsxs)(e.code,{children:[(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Sent: 0"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Sent: 1"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Sent: 2"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Sent: 3"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Received: Uint8Array([0, 0])"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Received: Uint8Array([1, 10])"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Received: Uint8Array([2, 20])"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Received: Uint8Array([3, 30])"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Sent: 4"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Sent: 5"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Sent: 6"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Sent: 7"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Received: Uint8Array([4, 40])"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Received: Uint8Array([5, 50])"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Received: Uint8Array([6, 60])"})}),"\n",(0,n.jsx)(e.span,{children:(0,n.jsx)(e.span,{children:"Received: Uint8Array([7, 70])"})})]})}),"\n",(0,n.jsx)(a.U,{type:"warning",title:"Gotchas & Tips",children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)("code",{children:"send()"})," returns ",(0,n.jsx)("code",{children:"false"})," when full; always check for\nbackpressure."]})}),(0,n.jsx)("li",{children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)("code",{children:"recv()"})," returns ",(0,n.jsx)("code",{children:"null"})," when channel is empty."]})}),(0,n.jsx)("li",{children:(0,n.jsx)(e.p,{children:"For browser use, producer and consumer may be in separate threads—see\nbrowser recipes."})}),(0,n.jsx)("li",{children:(0,n.jsxs)(e.p,{children:["For async use, see ",(0,n.jsx)("code",{children:"recvAsync()"})," or the async iterator."]})}),(0,n.jsx)("li",{children:(0,n.jsx)(e.p,{children:"If you see dropped messages, check your slot count and backpressure\nhandling."})}),(0,n.jsx)("li",{children:"For debugging, use diagnostics or enable verbose logging."})]})}),"\n",(0,n.jsx)(a.U,{type:"tip",title:"Performance Note",children:(0,n.jsx)(e.p,{children:"SPSC is the fastest mode, but only if you stick to the\nsingle-producer/single-consumer contract. If you break this contract, you may\nsee data loss or protocol errors—use MPSC/MPMC for more complex patterns."})}),"\n",(0,n.jsx)(e.h2,{id:s[3].id,children:s[3].value}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:"/quickstart/common-recipes",children:"Common usage recipes →"})}),"\n",(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:"https://github.com/SP8D/sp8d",children:"File an issue or contribute →"})}),"\n"]})]})},"/examples/basic-spsc",{filePath:"pages/examples/basic-spsc.mdx",timestamp:1746978098e3,pageMap:l.v,frontMatter:{title:"Examples: Basic SPSC"},title:"Examples: Basic SPSC"},"undefined"==typeof RemoteContent?c:RemoteContent.useTOC)},5956:function(i,s,e){"use strict";e.d(s,{U:function(){return a}});var n=e(5893),r=e(512),l=e(5192);let t={default:"\uD83D\uDCA1",error:"\uD83D\uDEAB",info:(0,n.jsx)(l.AV,{className:"_mt-1"}),warning:"⚠️"},h={default:(0,r.Z)("_border-orange-100 _bg-orange-50 _text-orange-800 dark:_border-orange-400/30 dark:_bg-orange-400/20 dark:_text-orange-300"),error:(0,r.Z)("_border-red-200 _bg-red-100 _text-red-900 dark:_border-red-200/30 dark:_bg-red-900/30 dark:_text-red-200"),info:(0,r.Z)("_border-blue-200 _bg-blue-100 _text-blue-900 dark:_border-blue-200/30 dark:_bg-blue-900/30 dark:_text-blue-200"),warning:(0,r.Z)("_border-yellow-100 _bg-yellow-50 _text-yellow-900 dark:_border-yellow-200/30 dark:_bg-yellow-700/30 dark:_text-yellow-200")};function a({children:i,type:s="default",emoji:e=t[s]}){return(0,n.jsxs)("div",{className:(0,r.Z)("nextra-callout _overflow-x-auto _mt-6 _flex _rounded-lg _border _py-2 ltr:_pr-4 rtl:_pl-4","contrast-more:_border-current contrast-more:dark:_border-current",h[s]),children:[(0,n.jsx)("div",{className:"_select-none _text-xl ltr:_pl-3 ltr:_pr-2 rtl:_pr-3 rtl:_pl-2",style:{fontFamily:'"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'},children:e}),(0,n.jsx)("div",{className:"_w-full _min-w-0 _leading-7",children:i})]})}},8757:function(i,s,e){"use strict";e.d(s,{G:function(){return l}});var n=e(5893),r=e(7294);function l({chart:i}){let s=(0,r.useId)(),[l,t]=(0,r.useState)(""),h=(0,r.useRef)(null),a=function(i){let[s,e]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let s=new IntersectionObserver(([i])=>{i.isIntersecting&&(s.disconnect(),e(!0))});return s.observe(i.current),()=>{s.disconnect()}},[i]),s}(h);return(0,r.useEffect)(()=>{if(!a)return;let n=document.documentElement,r=new MutationObserver(l);return r.observe(n,{attributes:!0}),l(),()=>{r.disconnect()};async function l(){let r=n.classList.contains("dark")||n.attributes.getNamedItem("data-theme")?.value==="dark",{default:l}=await Promise.all([e.e(6925),e.e(2858)]).then(e.bind(e,2858));try{l.initialize({startOnLoad:!1,securityLevel:"loose",fontFamily:"inherit",themeCSS:"margin: 1.5rem auto 0;",theme:r?"dark":"default"});let{svg:e}=await l.render(s.replaceAll(":",""),i.replaceAll("\\n","\n"),h.current);t(e)}catch(i){console.error("Error while rendering mermaid",i)}}},[i,a]),(0,n.jsx)("div",{ref:h,dangerouslySetInnerHTML:{__html:l}})}},1937:function(i,s,e){"use strict";e.d(s,{v:function(){return n}});let n=[{data:{index:"Home",introduction:"Introduction",quickstart:"Quickstart",principles:"Principles","api-reference":"API Reference","guides-and-howtos":"Guides and How-Tos",examples:"Examples",contact:{title:"Demo Harness",type:"page",href:"https://harness.sp8d.com"}}},{name:"api-reference",route:"/api-reference",children:[{data:{"channel-api":{title:"Channel API"}}},{name:"channel-api",route:"/api-reference/channel-api",frontMatter:{title:"API Reference: Channel"}}]},{name:"examples",route:"/examples",children:[{data:{"basic-spsc":{title:"Basic SPSC"}}},{name:"basic-spsc",route:"/examples/basic-spsc",frontMatter:{title:"Examples: Basic SPSC"}}]},{name:"guides-and-howtos",route:"/guides-and-howtos",children:[{data:{faqs:{title:"FAQs"}}},{name:"faqs",route:"/guides-and-howtos/faqs",frontMatter:{title:"Frequently Asked Questions"}}]},{name:"index",route:"/",frontMatter:{title:"Start Here: Product Philosophy & Overview"}},{name:"introduction",route:"/introduction",children:[{data:{"what-is-sp8d":{title:"What is SP8D"}}},{name:"what-is-sp8d",route:"/introduction/what-is-sp8d",frontMatter:{title:"Introduction: What is SP8D?"}}]},{name:"principles",route:"/principles",children:[{data:{"concurrency-models":{title:"Concurrency Models"}}},{name:"concurrency-models",route:"/principles/concurrency-models",frontMatter:{title:"Principles: Concurrency Models"}}]},{name:"quickstart",route:"/quickstart",children:[{data:{installation:{title:"Installation"},"minimal-example":{title:"Minimal Example"},"common-recipes":{title:"Common Recipes"}}},{name:"common-recipes",route:"/quickstart/common-recipes",frontMatter:{title:"Quickstart: Common Recipes"}},{name:"installation",route:"/quickstart/installation",frontMatter:{title:"Quickstart: Installation"}},{name:"minimal-example",route:"/quickstart/minimal-example",frontMatter:{title:"Quickstart: Minimal Example"}}]}]}},function(i){i.O(0,[7812,2888,9774,179],function(){return i(i.s=1830)}),_N_E=i.O()}]);